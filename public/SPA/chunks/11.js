(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{RiWf:function(t,a,s){"use strict";var e=s("zNnu"),i=s("DAy3"),n={name:"payment-team-summary",template:"payment-team-summary",components:{StatPanel:s("m2Vv").a,StatNumber:e.a},mixins:[i.a],props:{affinity_team_id:{required:!0}},data:function(){return{dialog:!1,loading:!1,statistics:null,query:{params:{}}}},methods:{getStatistics:function(){var t=this;this.loading=!0;var a={endpoint:"stats_payment_team_summary",fields:["stats"],params:{date_range:this.$store.getters["date_range/date_range"],affinity_team_id:this.affinity_team_id}};this.$graph.getEndPointQuery(a).then((function(a){console.log("Stats Credit control summary",a),t.statistics=a.stats})).catch((function(t){console.log(t)})).finally((function(){t.loading=!1}))}},created:function(){this.getStatistics()}},r=s("KHd+"),c=Object(r.a)(n,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("stat-panel",{attrs:{loading:t.loading}},[s("v-card-title",{staticClass:"pa-0"},[t._v("Team Summary")]),t._v(" "),t.statistics?s("v-row",[s("v-col",{attrs:{cols:"12"}},t._l(t.statistics,(function(a,e){return s("v-card",{key:e,staticClass:"mb-2"},[s("v-card-text",{staticClass:"py-2"},[s("v-row",[s("v-col",{staticClass:"py-0"},[s("v-row",[s("v-col",{staticClass:"pt-0 pb-2",attrs:{cols:"2"}},[s("v-avatar",{attrs:{left:"",small:""}},[a?s("v-img",{attrs:{src:"https://admin.global4.co.uk/img/users/thumbnail/"+a.user_id+".jpg"}}):t._e()],1)],1)],1),t._v(" "),s("v-row",[s("v-col",{staticClass:"py-0"},[s("span",{staticClass:"text-h7"},[t._v(t._s(a.user_name))])])],1)],1),t._v(" "),s("v-col",{staticClass:"text-center pt-0"},[s("span",{staticClass:"overline"},[t._v("Direct Debits")]),t._v(" "),s("br"),t._v(" "),s("span",{staticClass:"text-h5"},[t._v(t._s(a.direct_debits_count))])]),t._v(" "),s("v-col",{staticClass:"text-center pt-0"},[s("span",{staticClass:"overline"},[t._v("Payment Plans")]),t._v(" "),s("br"),t._v(" "),s("span",{staticClass:"text-h5"},[t._v(t._s(a.payment_plans_count))])]),t._v(" "),s("v-col",{staticClass:"text-center pt-0"},[s("span",{staticClass:"overline"},[t._v("Recurring Cards")]),t._v(" "),s("br"),t._v(" "),s("span",{staticClass:"text-h5"},[t._v(t._s(a.payment_recurrings_count))])]),t._v(" "),s("v-col",{staticClass:"text-center pt-0"},[s("span",{staticClass:"overline"},[t._v("Payments")]),t._v(" "),s("br"),t._v(" "),s("span",{staticClass:"text-h5"},[t._v(t._s(a.payment_transactions_count))])]),t._v(" "),s("v-col",{staticClass:"text-center pt-0"},[s("span",{staticClass:"overline"},[t._v("Payments")]),t._v(" "),s("br"),t._v(" "),s("span",{staticClass:"text-h5"},[t._v("Â£"+t._s(a.payment_transactions_amount_pence_sum/100))])])],1)],1)],1)})),1)],1):t._e()],1)}),[],!1,null,null,null);a.a=c.exports},lzIF:function(t,a,s){"use strict";s.r(a);var e=s("+xue"),i=s("Jv73"),n=s("ws4E"),r=s("RBd+"),c=s("4XHU"),l=s("6FkH"),o=s("RiWf"),_=s("ikXD"),m=s("1v9D"),v={components:{PaymentTransactionsByHourChart:s("MAmg").a,StatParams:m.a,PaymentTransactionsByDayChart:_.a,PaymentTeamSummary:o.a,PaymentTransactionsTotal:l.a,PaymentRecurringsTotal:c.a,PaymentPlansTotal:r.a,DirectDebitsTotal:n.a,StatToolbar:e.a},mixins:[i.a],data:function(){return{params:{affinity_team_id:48}}}},p=s("KHd+"),y=Object(p.a)(v,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-row",[s("v-col",[s("stat-toolbar",{attrs:{title:"Payments By Team Board"}}),t._v(" "),s("stat-params",[s("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"3"}},[s("select-team",{attrs:{value:t.params.affinity_team_id},on:{"update:value":function(a){return t.$set(t.params,"affinity_team_id",a)}}})],1)],1),t._v(" "),s("v-row",[s("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("direct-debits-total",{attrs:{affinity_team_id:t.params.affinity_team_id}})],1),t._v(" "),s("v-col",{attrs:{cols:"4"}},[s("payment-plans-total",{attrs:{affinity_team_id:t.params.affinity_team_id}})],1),t._v(" "),s("v-col",{attrs:{cols:"4"}},[s("payment-recurrings-total",{attrs:{affinity_team_id:t.params.affinity_team_id}})],1)],1),t._v(" "),s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("payment-transactions-total",{attrs:{count:!0,affinity_team_id:t.params.affinity_team_id}})],1),t._v(" "),s("v-col",{attrs:{cols:"4"}},[s("payment-transactions-total",{attrs:{affinity_team_id:t.params.affinity_team_id}})],1)],1)],1),t._v(" "),s("v-col",{staticClass:"py-0"},[s("v-row",[s("v-col",[t.params.affinity_team_id?s("payment-team-summary",{attrs:{affinity_team_id:t.params.affinity_team_id}}):s("p",[t._v("\n                            Please select a team if you want a Team Summary\n                        ")])],1)],1)],1)],1),t._v(" "),s("v-row",[s("v-col",[s("payment-transactions-by-hour-chart",{attrs:{transaction_type:"payment",affinity_team_id:t.params.affinity_team_id}})],1)],1),t._v(" "),s("v-row",[s("v-col",[s("payment-transactions-by-day-chart",{attrs:{transaction_type:"payment",affinity_team_id:t.params.affinity_team_id}})],1)],1)],1)],1)}),[],!1,null,null,null);a.default=y.exports}}]);